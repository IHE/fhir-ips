<?xml version="1.0" encoding="utf-8"?>
<StructureDefinition xmlns="http://hl7.org/fhir" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://hl7.org/fhir ../../../__FHIRr4Tools/fhir-all-xsd/structuredefinition.xsd">
<!--- it would be useful to generate a text with a table with source - target and equivalence -->
	<id value="AllergyIntolerance-lm-hl7-ips"/>
	<meta>
		<lastUpdated value="2018-02-14T08:58:02.283-06:00"/>
	</meta>
	<text>
		<status value="generated"/>
		<div xmlns="http://www.w3.org/1999/xhtml">This Logical Model documents the relevant allergies or intolerances (conditions) for a patient, describing the kind of reaction (e.g. rash, anaphylaxis,..); preferably the agents that cause it; and optionally the criticality and the certainty of the allergy.</div>
	</text>
	<url value="http://hl7.org/fhir/uv/ips/StructureDefinition/AllergyIntolerance-lm-hl7-ips"/>
	<name value="AllergyIntolerance"/>
	<title value="Allergy Intolerance (HL7 IPS)"/>
	<status value="draft"/>
	<date value="2018-02-14T07:57:18.78-06:00"/>
	<description value="This Logical Model documents the relevant allergies or intolerances (conditions) for a patient, describing the kind of reaction (e.g. rash, anaphylaxis,..); preferably the agents that cause it; and optionally the criticality and the certainty of the allergy"/>
	<kind value="logical"/>
	<abstract value="true"/>
	<type value="AllergyorIntolerance"/>
	<baseDefinition value="http://hl7.org/fhir/StructureDefinition/Element"/>
	<derivation value="specialization"/>
	<differential>
		<element id="AllergyIntolerance">
			<path value="AllergyIntolerance"/>
						<short value="Allergy or Intolerance"/>
			<definition value="Relevant patient’s allergies or intolerance condition"/>
			<min value="0"/>
			<max value="*"/>
			<type>
				
				<code value="http://hl7.org/fhir/uv/ips/StructureDefinition/LabelConcept"/>
			</type>
		</element>
		

<element id="AllergyorIntolerance.ClinicalStatus">
			<path value="AllergyorIntolerance.ClinicalStatus"/>
			<short value="Clinical Status"/>
			<definition value="Provides the current status of the allergy or intolerance, for example, whether it is active, in remission, resolved, and so on. Value set should include:
•	active
•	inactive
•	resolved"/>
			<min value="0"/>
			<max value="*"/>
			<type>
				
				<code value="http://hl7.org/fhir/uv/ips/StructureDefinition/CodedElement"/>
			</type>
		</element>
				
		
		
			<element id="AllergyorIntolerance.TypeOfPropensity">
			<extension url="http://hl7.org/fhir/uv/ips/StructureDefinition/conformance-cen-ips">
				<valueCode value="RK"/>
			</extension>
			<path value="AllergyorIntolerance.TypeOfPropensity"/>
			<short value="Type of propensity"/>
			<definition value="Type of allergy or intolerance.
Format: Coded information:  Value set should include:
—	Allergy
—	Intolerance
—	propensity to adverse reaction"/>
			<min value="0"/>
			<max value="*"/>
			<type>
				
				<code value="http://hl7.org/fhir/uv/ips/StructureDefinition/CodedElement"/>
			</type>
		</element>
		
		<element id="AllergyorIntolerance.Criticality">
			<path value="AllergyorIntolerance.Criticality"/>
			<short value="Criticality"/>
			<definition value="This attribute represents the gravity of the potential risk for future life-threatening adverse reactions when exposed to a substance known to cause an adverse reaction in that individual. When the ‘worst case’ result is assessed to have a life-threatening or organ system threatening potential, it is considered to be of high criticality.
Notes: In some contexts, the severity is used as a synonym of the criticality.
Value set should include:
•	High
•	Low
•	Exception: unable to assess criticality"/>
			<min value="0"/>
			<max value="*"/>
			<type>
				
				<code value="http://hl7.org/fhir/uv/ips/StructureDefinition/CodedElement"/>
			</type>
		</element>
		

<element id="AllergyorIntolerance.OnsetDate">

			<path value="AllergyorIntolerance.OnsetDate"/>
			<short value="Onset date"/>
			<definition value="It shall be provided with the highest known precision, at least year"/>
			<min value="0"/>
			<max value="*"/>
			<type>
				
				<code value="http://hl7.org/fhir/uv/ips/StructureDefinition/DateTime"/>
			</type>
		</element>
		<element id="AllergyorIntolerance.EndDate">
			<path value="AllergyorIntolerance.EndDate"/>
			<short value="End date"/>
			<definition value="If Clinical Status is non-active then an exception can be raised to indicate inconsistency.
It shall be provided with the highest known precision, at least year."/>
			<min value="0"/>
			<max value="*"/>
			<type>
				
				<code value="http://hl7.org/fhir/uv/ips/StructureDefinition/DateTime"/>
			</type>
		</element>
		
		<!-- to be clarified 
		<element id="AllergyIntolerance.asserter">
			<path value="AllergyIntolerance.asserter"/>
		</element>

-->
	<element id="AllergyorIntolerance.Diagnosis">
			<extension url="http://hl7.org/fhir/uv/ips/StructureDefinition/conformance-cen-ips">
				<valueCode value="O"/>
			</extension>
			<path value="AllergyorIntolerance.Diagnosis"/>
			<short value="Diagnosis"/>
			<definition value="A code indicating the type of reaction and the agent; an alternative option for describing an allergy to the agent. Described with Textual information if coded data are unavailable.
Example: lactose intolerance"/>
			<min value="0"/>
			<max value="*"/>
			<type>
				
				<code value="http://hl7.org/fhir/uv/ips/StructureDefinition/CodedElement"/>
			</type>
		</element>
		<element id="AllergyorIntolerance.Reaction">
			<extension url="http://hl7.org/fhir/uv/ips/StructureDefinition/conformance-cen-ips">
				<valueCode value="RK"/>
			</extension>
			<path value="AllergyorIntolerance.Reaction"/>
			<short value="Reaction"/>
			<definition value="A Label Concept recognizing that other data concerning the reaction may be made available in later versions of this standard."/>
			<min value="0"/>
			<max value="*"/>
			<type>
				
				<code value="http://hl7.org/fhir/uv/ips/StructureDefinition/LabelConcept"/>
			</type>
		</element>
		<element id="AllergyorIntolerance.Reaction.Manifestation">
			<extension url="http://hl7.org/fhir/uv/ips/StructureDefinition/conformance-cen-ips">
				<valueCode value="RK"/>
			</extension>
			<path value="AllergyorIntolerance.Reaction.Manifestation"/>
			<short value="Manifestation of the reaction"/>
			<definition value="Description of the clinical manifestation of the allergic reaction. Example: anaphylactic shock, angioedema (the clinical manifestation also gives information about the severity of the observed reaction).
Textual information if coded/quantified data are not available.  This is typically a more complex structure than simple text.
Example: “intestinal discomfort” is the manifestation of the reaction."/>
			<min value="0"/>
			<max value="*"/>
			<type>
				
				<code value="http://hl7.org/fhir/uv/ips/StructureDefinition/CodedElement"/>
			</type>
		</element>
		

<element id="AllergyorIntolerance.Reaction.onset">
			<extension url="http://hl7.org/fhir/uv/ips/StructureDefinition/conformance-cen-ips">
				<valueCode value="RK"/>
			</extension>
			<path value="AllergyorIntolerance.Reaction.onset"/>
			<short value="OnSet date time of the reaction"/>
			<min value="0"/>
			<max value="1"/>
			<type>
				
				<code value="http://hl7.org/fhir/uv/ips/StructureDefinition/DateTime"/>
			</type>
		</element>
		<element id="AllergyorIntolerance.Reaction.Severity">
			<extension url="http://hl7.org/fhir/uv/ips/StructureDefinition/conformance-cen-ips">
				<valueCode value="RK"/>
			</extension>
			<path value="AllergyorIntolerance.Reaction.Severity"/>
			<short value="Severity"/>
			<definition value="Coded element that described the subjective assessment of the severity of the condition as evaluated by the clinician, in the case of an allergy it is used as attribute of a manifestation of a reaction. For example, a person may have a severe rash as reaction, that it is not however critical."/>
			<min value="0"/>
			<max value="*"/>
			<type>
				
				<code value="http://hl7.org/fhir/uv/ips/StructureDefinition/CodedElement"/>
			</type>
		</element>
		<element id="AllergyorIntolerance.Agent">
			<extension url="http://hl7.org/fhir/uv/ips/StructureDefinition/conformance-cen-ips">
				<valueCode value="O"/>
			</extension>
			<path value="AllergyorIntolerance.Agent"/>
			<short value="Agent"/>
			<min value="0"/>
			<max value="*"/>
			<type>
				
				<code value="http://hl7.org/fhir/uv/ips/StructureDefinition/LabelConcept"/>
			</type>
		</element>
		<element id="AllergyorIntolerance.Agent.Code">
			<extension url="http://hl7.org/fhir/uv/ips/StructureDefinition/conformance-cen-ips">
				<valueCode value="R"/>
			</extension>
			<path value="AllergyorIntolerance.Agent.Code"/>
			<short value="Agent code"/>
			<definition value="A specific allergen or other agent/substance to which the patient has an adverse reaction propensity.  This will be taken from a list of agents and the associated code from a value set."/>
			<min value="0"/>
			<max value="*"/>
			<type>
				
				<code value="http://hl7.org/fhir/uv/ips/StructureDefinition/CodedElement"/>
			</type>
		</element>
		<element id="AllergyorIntolerance.Agent.Category">
			<extension url="http://hl7.org/fhir/uv/ips/StructureDefinition/conformance-cen-ips">
				<valueCode value="O"/>
			</extension>
			<path value="AllergyorIntolerance.Agent.Category"/>
			<short value="Category"/>
			<definition value="Allergy substance category, Value set should include:
•	Food
•	Medication
•	Environment"/>
			<min value="0"/>
			<max value="*"/>
			<type>
				
				<code value="http://hl7.org/fhir/uv/ips/StructureDefinition/CodedElement"/>
			</type>
		</element>

		<element id="AllergyIntolerance.reaction.onset">
			<path value="AllergyIntolerance.reaction.onset"/>
		</element>
	
	</differential>
</StructureDefinition>
